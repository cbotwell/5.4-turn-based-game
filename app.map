{"version":3,"sources":["js/setup.js","templates/battle.js","templates/gameover.js","templates/start.js","js/character.js","js/cagematch.js"],"sourcesContent":["AppTemplates = {};\n","AppTemplates['battle'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, alias1=this.lambda, alias2=this.escapeExpression;\n\n  return \"<div class=\\\"center\\\">\\n    <div class=\\\"battle\\\">\\n        <div class=\\\"characters\\\">\\n            <div class=\\\"hero-target\\\">\\n                <img src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.hero : depth0)) != null ? stack1.imgUrl : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.hero : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"\\\">\\n                <p>\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.hero : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</p>\\n                <div class=\\\"hp\\\">\\n                    <p>HP: \"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.hero : depth0)) != null ? stack1.getHealth : stack1), depth0))\n    + \"</p>\\n                    <div class=\\\"hpborder\\\">\\n                        <div class=\\\"heroHpBar\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"enemy-target\\\">\\n                <img src=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.enemy : depth0)) != null ? stack1.imgUrl : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.enemy : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"\\\">\\n                <p>\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.enemy : depth0)) != null ? stack1.name : stack1), depth0))\n    + \"</p>\\n                <div class=\\\"hp\\\">\\n                    <p>HP: \"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.enemy : depth0)) != null ? stack1.getHealth : stack1), depth0))\n    + \"</p>\\n                    <div class=\\\"hpborder\\\">\\n                        <div class=\\\"enemyHpBar\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\\"messages\\\">\\n            <div class=\\\"fight\\\">\\n                <i class=\\\"fa fa-play\\\"></i>\\n                <button class=\\\"attack\\\">\"\n    + alias2(alias1(((stack1 = (depth0 != null ? depth0.hero : depth0)) != null ? stack1.weaponName : stack1), depth0))\n    + \"</button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n},\"useData\":true});","AppTemplates['gameover'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    return \"<button class=\\\"retry\\\">\\n    Play Again\\n</button>\\n<div class=\\\"center\\\">\\n    <div class=\\\"gameover\\\">\\n        <h1>CAGE WINS!</h1>\\n        <p>\\n            \\\"I don't think movies are the reason why this violence exists, I think it's going to happen whether movies are there or not.\\\" - Nicolas Cage\\n        </p>\\n    </div>\\n</div>\\n\";\n},\"useData\":true});","AppTemplates['start'] = Handlebars.template({\"1\":function(depth0,helpers,partials,data,blockParams) {\n    var stack1, helper, alias1=this.lambda, alias2=this.escapeExpression;\n\n  return \"                <div class=\\\"character\\\">\\n                    <img src=\\\"\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1.imgUrl : stack1), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1.name : stack1), depth0))\n    + \"\\\">\\n                    <p>\"\n    + alias2(alias1(((stack1 = blockParams[0][0]) != null ? stack1.name : stack1), depth0))\n    + \"</p>\\n                    <button class=\\\"select-character\\\" data-index=\\\"\"\n    + alias2(((helper = (helper = helpers.index || (data && data.index)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"index\",\"hash\":{},\"data\":data,\"blockParams\":blockParams}) : helper)))\n    + \"\\\"> Select</button>\\n                </div>\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data,blockParams) {\n    var stack1;\n\n  return \"<div class=\\\"center\\\">\\n    <div class=\\\"start\\\">\\n        <h1>CAGE MATCH</h1>\\n        <div class=\\\"characters\\\">\\n\"\n    + ((stack1 = helpers.each.call(depth0,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 1, blockParams),\"inverse\":this.noop,\"data\":data,\"blockParams\":blockParams})) != null ? stack1 : \"\")\n    + \"        </div>\\n    </div>\\n</div>\\n\";\n},\"useData\":true,\"useBlockParams\":true});","function Character(options) {\n  options = options || {};\n  var hitPoints = options.hitPoints || 100;\n  this.weapons = options.weapons || {};\n  this.weaponName = options.weaponName;\n  this.name = options.name;\n  this.imgUrl = options.imgUrl;\n\n  this.takeDamage = function(damage) { hitPoints -=  damage; };\n\n  this.getAttackStrength = function(weaponName) {\n    if (this.weapons[weaponName]) {\n      return this.weapons[weaponName];\n    }\n\n    return 5;\n  };\n\n  this.on('attacked', function(amount) {\n    this.takeDamage(amount);\n  });\n\n  this.getHealth = function() {return hitPoints;};\n}\n\nCharacter.prototype = _.extend({\n  constructor: Character,\n\n  attack: function(hostile, weapon) {\n    hostile.trigger('attacked', this.getAttackStrength(weapon));\n  }\n\n}, Backbone.Events);\n","castorTroy = new Character({name: 'Castor Troy', weapons: {dualGoldenGuns: 40}, weaponName: 'Dual Golden Guns', hitPoints: 100, imgUrl: 'castor.png'});\nmemphisRaines = new Character({name: 'Memphis Raines', weapons: {eleanor: 60}, weaponName: 'Eleanor', hitPoints: 100, imgUrl: 'memphis.png'});\nbenjaminGates = new Character({name: 'Benjamin Gates', weapons: {declarationOfIndependence: 50}, weaponName: 'Declaration of Independence', hitPoints: 100, imgUrl: 'benjamin.png'});\njohhnyBlaze = new Character({name: 'Johnny Blaze', weapons: {chain: 30}, weaponName: 'Chain', hitPoints: 100, imgUrl: 'johnny.png'});\n\nvar heroes = [castorTroy, memphisRaines, benjaminGates, johhnyBlaze];\nvar gameTargetEl = $('.game-target');\n\ngameTargetEl.html(AppTemplates.start(heroes));\n\nfunction Game(hero) {\n  this.hero = hero;\n  this.enemy = _.sample(heroes);\n  this.turnNumber = 0;\n  this.gameOver = false;\n}\n\nGame.prototype = _.extend({\n  constructor: Game,\n\n  isGameOver: function() {\n    //something?\n  }\n}, Backbone.Events);\n\ngameTargetEl.on('click', '.select-character', function() {\n  var indexSelected = $(this).data('index');\n  var hero = heroes[indexSelected];\n  var game = new Game(hero);\n  newBattle(game);\n});\n\nvar healthBar;\n\nvar newBattle = function(game) {\n  gameTargetEl.html(AppTemplates.battle(game));\n\n  heroHealthBar = $('.heroHpBar');\n  heroHealthBar.width(game.hero.getHealth() + '%');\n  enemyHealthBar = $('.enemyHpBar');\n  enemyHealthBar.width(game.enemy.getHealth() + '%');\n\n  gameTargetEl.on('click', '.attack', function() {\n    game.hero.attack(game.enemy, 'dualGoldenGuns');\n    game.enemy.attack(game.hero, 'chain');\n    game.turnNumber++;\n\n    if (game.enemy.getHealth() <= 0 || game.hero.getHealth() <= 0) {\n      gameTargetEl.html(AppTemplates.gameover());\n    } else {\n      gameTargetEl.html(AppTemplates.battle(game));\n\n      heroHealthBar = $('.heroHpBar');\n      heroHealthBar.width(game.hero.getHealth() + '%');\n      enemyHealthBar = $('.enemyHpBar');\n      enemyHealthBar.width(game.enemy.getHealth() + '%');\n\n      if (game.enemy.getHealth() <= 20) {\n        enemyHealthBar.addClass('lowHealth');\n      }\n      if (game.hero.getHealth() <= 20) {\n        heroHealthBar.addClass('lowHealth');\n      }\n    }\n  });\n\n  gameTargetEl.on('click', '.retry', function() {\n    gameTargetEl.html(AppTemplates.start(heroes));\n  });\n\n  //trying to figure out how to use the below stuff later\n\n  if (game.gameOver) {\n    $('.game-target').html(AppTemplates.gameover());\n  }\n};\n"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"app.js"}